; RUN: %generalize -souper-debug-level=2 %s > /dev/null 2>%t
; RUN: %FileCheck %s < %t

%x:i8 = var
%y = shl %x, 2
%z = lshr %y, 4
%t = shl %z, 2
infer %t
%foo = and 60, %x
result %foo

; CHECK: C2 == (C1 * 2)
; CHECK:   |=
; CHECK: ((x << C1) >>l C2) << C1
; CHECK:   =>
; CHECK: x & ((sext(1) << C2) >>l C1)