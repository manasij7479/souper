; RUN: %generalize -basic -no-width -souper-debug-level=2 %s > /dev/null 2>%t
; RUN: %FileCheck %s < %t

%v0:i8 = var ; v0
%1:i8 = ctpop %v0
%2:i1 = ult 7:i8, %1
infer %2
%3:i1 = eq 255:i8, %v0
result %3

; CHECK: C1:i8 == (width(C1) - 1)
; CHECK:  |=
; CHECK: C1 <u ctpop(v0:i8)
; CHECK:  =>
; CHECK: v0 == 0xFF
; TODO: synthesize independent fn instead of 255